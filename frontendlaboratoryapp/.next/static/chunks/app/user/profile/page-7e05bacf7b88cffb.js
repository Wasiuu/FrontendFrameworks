(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{48830:(e,a,s)=>{Promise.resolve().then(s.bind(s,89552))},91746:(e,a,s)=>{"use strict";s.d(a,{db:()=>l,j:()=>i});var r=s(49904),t=s(27058),d=s(14565);let o=(0,r.Wp)({apiKey:"AIzaSyCR9zDCQ0gg9M8hln8kbUNG7FHojLZls2g",authDomain:"frontendapp - 1c63a.firebaseapp.com",projectId:"frontendapp-1c63a",storageBucket:"frontendapp-1c63a.firebasestorage.app",messagingSenderId:"725446194373",appId:"1:725446194373:web:eb1c98752279ba8a1a2cac",measurementId:"G-Y5WB1JE9EV"}),l=(0,t.aU)(o),i=(0,d.xI)(o)},89552:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var r=s(95155),t=s(12115),d=s(14565),o=s(91746),l=s(27058);function i(){let[e,a]=(0,t.useState)(null),[s,i]=(0,t.useState)(""),[c,n]=(0,t.useState)(""),[m,p]=(0,t.useState)(!0),[u,y]=(0,t.useState)({displayName:"",photoURL:"",address:{street:"",city:"",zipCode:""}});(0,t.useEffect)(()=>{let e=o.j.onAuthStateChanged(e=>{e?a(e):p(!1)});return()=>e()},[]),(0,t.useEffect)(()=>{e&&(async()=>{try{let a=(0,l.H9)(o.db,"users",e.uid),s=await (0,l.x7)(a);if(s.exists()){let e=s.data();y({displayName:e.displayName||"",photoURL:e.photoURL||"",address:e.address||{street:"",city:"",zipCode:""}})}}catch(e){console.error("Błąd podczas pobierania danych:",e.message),i("Nie udało się pobrać danych użytkownika.")}finally{p(!1)}})()},[e]);let h=async a=>{a.preventDefault();try{e&&(await (0,d.r7)(e,{displayName:u.displayName,photoURL:u.photoURL}),await (0,l.BN)((0,l.H9)(o.db,"users",e.uid),{displayName:u.displayName,photoURL:u.photoURL,address:u.address}),n("Profil został zaktualizowany!"),i(""))}catch(e){i("Nie udało się zaktualizować profilu: "+e.message),n("")}};return m?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsx)("p",{className:"text-lg text-secondary",children:"Ładowanie danych..."})}):e?(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background px-4",children:(0,r.jsxs)("form",{onSubmit:h,className:"bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Tw\xf3j profil"}),c&&(0,r.jsx)("div",{className:"bg-green-100 text-green-700 p-3 rounded mb-4",children:c}),s&&(0,r.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:s}),(0,r.jsx)("div",{className:"flex justify-center mb-6",children:u.photoURL?(0,r.jsx)("img",{src:u.photoURL,alt:"Zdjęcie profilowe",className:"rounded-full h-24 w-24 object-cover"}):(0,r.jsx)("div",{className:"bg-gray-300 rounded-full h-24 w-24 flex items-center justify-center",children:(0,r.jsx)("span",{className:"text-gray-600",children:"Brak zdjęcia"})})}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Nazwa wyświetlana"}),(0,r.jsx)("input",{type:"text",id:"displayName",value:u.displayName,onChange:e=>y({...u,displayName:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź nazwę wyświetlaną"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"photoURL",className:"block text-sm font-medium text-gray-700",children:"Adres zdjęcia profilowego"}),(0,r.jsx)("input",{type:"text",id:"photoURL",value:u.photoURL,onChange:e=>y({...u,photoURL:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź URL zdjęcia"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:"Ulica"}),(0,r.jsx)("input",{type:"text",id:"street",value:u.address.street,onChange:e=>y({...u,address:{...u.address,street:e.target.value}}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź ulicę"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Miasto"}),(0,r.jsx)("input",{type:"text",id:"city",value:u.address.city,onChange:e=>y({...u,address:{...u.address,city:e.target.value}}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź miasto"})]}),(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"Kod pocztowy"}),(0,r.jsx)("input",{type:"text",id:"zipCode",value:u.address.zipCode,onChange:e=>y({...u,address:{...u.address,zipCode:e.target.value}}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź kod pocztowy"})]}),(0,r.jsx)("button",{type:"submit",className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-secondary transition",children:"Zapisz zmiany"})]})}):(0,r.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,r.jsx)("p",{className:"text-lg text-secondary",children:"Musisz być zalogowany, aby zobaczyć tę stronę."})})}}},e=>{var a=a=>e(e.s=a);e.O(0,[992,782,861,441,517,358],()=>a(48830)),_N_E=e.O()}]);