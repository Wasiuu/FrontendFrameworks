(()=>{var e={};e.id=614,e.ids=[614],e.modules={846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},9294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},5511:e=>{"use strict";e.exports=require("crypto")},4985:e=>{"use strict";e.exports=require("dns")},4735:e=>{"use strict";e.exports=require("events")},9021:e=>{"use strict";e.exports=require("fs")},1630:e=>{"use strict";e.exports=require("http")},3496:e=>{"use strict";e.exports=require("http2")},1645:e=>{"use strict";e.exports=require("net")},1820:e=>{"use strict";e.exports=require("os")},3873:e=>{"use strict";e.exports=require("path")},9771:e=>{"use strict";e.exports=require("process")},7910:e=>{"use strict";e.exports=require("stream")},4631:e=>{"use strict";e.exports=require("tls")},9551:e=>{"use strict";e.exports=require("url")},8354:e=>{"use strict";e.exports=require("util")},4075:e=>{"use strict";e.exports=require("zlib")},9052:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>i.a,__next_app__:()=>c,pages:()=>p,routeModule:()=>u,tree:()=>l});var s=t(260),a=t(8203),o=t(5155),i=t.n(o),d=t(7292),n={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(r,n);let l=["",{children:["user",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,3971)),"D:\\Apps\\UNI\\FrameworkiFrontendowe\\Lab7\\frontendlaboratoryapp\\app\\user\\profile\\page.js"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,9019)),"D:\\Apps\\UNI\\FrameworkiFrontendowe\\Lab7\\frontendlaboratoryapp\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(t.bind(t,1617)),"D:\\Apps\\UNI\\FrameworkiFrontendowe\\Lab7\\frontendlaboratoryapp\\app\\not-found.js"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,9116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,1485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,6055))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],p=["D:\\Apps\\UNI\\FrameworkiFrontendowe\\Lab7\\frontendlaboratoryapp\\app\\user\\profile\\page.js"],c={require:t,loadChunk:()=>Promise.resolve()},u=new s.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/user/profile/page",pathname:"/user/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},4298:(e,r,t)=>{Promise.resolve().then(t.bind(t,3971))},4466:(e,r,t)=>{Promise.resolve().then(t.bind(t,9036))},9036:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(5512),a=t(8009),o=t(5631),i=t(4034),d=t(7656);function n(){let[e,r]=(0,a.useState)(null),[t,n]=(0,a.useState)(""),[l,p]=(0,a.useState)(""),[c,u]=(0,a.useState)(!0),[m,x]=(0,a.useState)({displayName:"",photoURL:"",address:{street:"",city:"",zipCode:""}}),h=async r=>{r.preventDefault();try{e&&(await (0,o.r7)(e,{displayName:m.displayName,photoURL:m.photoURL}),await (0,d.BN)((0,d.H9)(i.db,"users",e.uid),{displayName:m.displayName,photoURL:m.photoURL,address:m.address}),p("Profil został zaktualizowany!"),n(""))}catch(e){n("Nie udało się zaktualizować profilu: "+e.message),p("")}};return c?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,s.jsx)("p",{className:"text-lg text-secondary",children:"Ładowanie danych..."})}):e?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background px-4",children:(0,s.jsxs)("form",{onSubmit:h,className:"bg-white shadow-lg rounded-lg p-6 w-full max-w-md",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold text-center mb-6",children:"Tw\xf3j profil"}),l&&(0,s.jsx)("div",{className:"bg-green-100 text-green-700 p-3 rounded mb-4",children:l}),t&&(0,s.jsx)("div",{className:"bg-red-100 text-red-700 p-3 rounded mb-4",children:t}),(0,s.jsx)("div",{className:"flex justify-center mb-6",children:m.photoURL?(0,s.jsx)("img",{src:m.photoURL,alt:"Zdjęcie profilowe",className:"rounded-full h-24 w-24 object-cover"}):(0,s.jsx)("div",{className:"bg-gray-300 rounded-full h-24 w-24 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-gray-600",children:"Brak zdjęcia"})})}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700",children:"Nazwa wyświetlana"}),(0,s.jsx)("input",{type:"text",id:"displayName",value:m.displayName,onChange:e=>x({...m,displayName:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź nazwę wyświetlaną"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"photoURL",className:"block text-sm font-medium text-gray-700",children:"Adres zdjęcia profilowego"}),(0,s.jsx)("input",{type:"text",id:"photoURL",value:m.photoURL,onChange:e=>x({...m,photoURL:e.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź URL zdjęcia"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"street",className:"block text-sm font-medium text-gray-700",children:"Ulica"}),(0,s.jsx)("input",{type:"text",id:"street",value:m.address.street,onChange:e=>x({...m,address:{...m.address,street:e.target.value}}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź ulicę"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"city",className:"block text-sm font-medium text-gray-700",children:"Miasto"}),(0,s.jsx)("input",{type:"text",id:"city",value:m.address.city,onChange:e=>x({...m,address:{...m.address,city:e.target.value}}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź miasto"})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{htmlFor:"zipCode",className:"block text-sm font-medium text-gray-700",children:"Kod pocztowy"}),(0,s.jsx)("input",{type:"text",id:"zipCode",value:m.address.zipCode,onChange:e=>x({...m,address:{...m.address,zipCode:e.target.value}}),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm py-2 px-3 focus:ring-primary focus:border-primary",placeholder:"Wprowadź kod pocztowy"})]}),(0,s.jsx)("button",{type:"submit",className:"w-full bg-primary text-white py-2 px-4 rounded-md hover:bg-secondary transition",children:"Zapisz zmiany"})]})}):(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,s.jsx)("p",{className:"text-lg text-secondary",children:"Musisz być zalogowany, aby zobaczyć tę stronę."})})}},3971:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>s});let s=(0,t(6760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\Apps\\\\UNI\\\\FrameworkiFrontendowe\\\\Lab7\\\\frontendlaboratoryapp\\\\app\\\\user\\\\profile\\\\page.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\Apps\\UNI\\FrameworkiFrontendowe\\Lab7\\frontendlaboratoryapp\\app\\user\\profile\\page.js","default")}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,501,395],()=>t(9052));module.exports=s})();